<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Documentation OVE</title>
	<link rel="stylesheet" href="css/documentation.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap-theme.min.css">
	<link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
	<script src="js/jquery-2.1.4.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/scriptdoc.js" type="text/javascript" charset="utf-8"></script>
</head>
<body data-spy="scroll" data-target="#myScrollspy" data-offset="20">

  <div class="container">
    <div class="row">
      <nav class="col-sm-3 navbar-fixed-top" id="myScrollspy">
      	<h2 class="principal">Onepage Visual Editor</h2>
        <ul class="nav nav-pills nav-stacked">
          <li><a href="#section1">Présentation</a></li>
           <li><a href="#section3">Installation</a></li>
          <li role="presentation" class="dropdown">
		    <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
		      Components <span class="caret"></span>
		    </a>
		    <ul class="dropdown-menu">
		      <li><a href="#headercomp">Navigation</a></li>
		      <li><a href="#slidecomp">Slider</a></li>
		      <li><a href="#galerycomp">Galerie</a></li>
		      <li><a href="#testiscomp">Testimoniaux</a></li>
		      <li><a href="#mapscomp">Maps</a></li>
		       <li><a href="#textcomp">texte libre</a></li>
		      <li><a href="#contactcomp">Contact form</a></li>
		    </ul>
		  </li>
             <li role="presentation" class="dropdown">
		    <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
		      Fonctionalités <span class="caret"></span>
		    </a>
		    <ul class="dropdown-menu">
		      <li><a href="#headerfunc">Navigation</a></li>
		      <li><a href="#slidefunc">Slider</a></li>
		      <li><a href="#galeryfunc">Galerie</a></li>
		      <li><a href="#testisfunc">Testimoniaux</a></li>
		      <li><a href="#mapsfunc">Maps</a></li>
		       <li><a href="#textfunc">texte libre</a></li>
		      <li><a href="#contactfunc">Contact form</a></li>
		    </ul>
		  </li>
             <li><a href="#section5">Références</a></li>
        </ul>
      </nav>
      <div class="col-sm-9">
        <div id="section1"> 
          <h1>Présentation</h1>
          <p>Onepage Visual Editor, alias OVE, est un générateur de mono page de six sections. Toutes ces sections sont bien sûr éditable, au bon vouloir de l'utilisateur. Le but de ce projet est de donner aux utilisateurs un moyen de construire une page web personnalisable sans aucune connaissance en codage. Nous avons donc rendu ce générateur de site simple et clair d'utilisation.
			<br><br>
		D'une autre part, pour les plus curieux nous avons conçu cette documentation afin de montrer le fonctionnement du site. De ce fait, l'utilisateur pourra aussi comprendre comme nous sommes arrivés à ce rendu.</p>
          <!-- block de rendu code -->
         
        </div> 
       
         <div id="section3"> 
          <h1>Installation</h1>
          <p>Try to scroll this page and look at the navigation list while scrolling!</p>
        </div> 

        <div id="section2"> 
          <h1>Components</h1>
          	<p>Il y a donc six sections, chacune comportant un composant. Plus ou moins tous modifiables. Chaque section peux ce retrouvé plusieurs fois sur la onepage. Cela laisse donc place à plusieurs types de page. Entrepreneur avec la section Map pour localiser son entreprise. Musicien pouvant montrer ses talents avec Music. Photographe avec Slider et Gallery. Vous l'aurez compris, vous pouvez en faire ce que bon vous semble.</p>
	          <div id="headercomp">
	          		<h3>Header</h3>
	          		<p>L'entête du site reste fixe lors de la navigation. son titre est personnalisable avec la possibilité d'ajouter son propre logo.
	          		Le menu pointe vers chaque section de page en lien d'encrage, il n'offre pas la possibilité d'ajouter de liens externes ou internes supplémentaires. 
	          		</p> 
	          		<div class="illu">
	          			<img src="img/header.png" alt="header"></img>
	          		</div>
	          		<hr/>
	          </div>
	          <div id="slidecomp">
		          <h3>Slider</h3>
		          		<p>La section slider permet d'afficher un carrousel au contenu personnalisable, l'utilisateur peut déterminer si le contenu de celui si ce sont des images ou des vidéos. Il est bien-sur possible de mixer l'affichage d'une photo puis de transiter vers une vidéo. il exploite 100% de la largeur du navigateur de façon responsive. (à condition que la source img/vidéo soit de taille appropriée.)
		          		</p> 
		          		<div class="illu">
		          			<img src="img/slider.png" alt="header"></img>
		          		</div>
		          		<hr> 
	          </div>
	          <div id="galerycomp">
	         
	          </div>
	          <div id="testiscomp">
	         
	          </div>
	          <div id="mapscomp">
	          		<h3>Map</h3>
	          		<p>La section Map permet d'afficher une carte ou l'emplacement géographique correspond au coordonné que l'utilisateur a informer. Effectivement, grâce au formulaire présent dans le Backoffice, les coordonnées gps, latitude et longitude sont enregistrées en base de données, pour plus de précision au chargement de la page.
	          		</p>
	          		<div class="illu">
		          		<img src="img/map.png" alt="header"></img>
		          	</div>
		          		<hr> 
	          </div>
	          <div id="contactcomp">
	         
	          </div>
	          <div id="textcomp">
	          
	          </div>
        </div> 
         <div id="section4"> 
          <h1>Fonctionalités</h1>
          <div id="headerfunc">
	         
	          </div>
	          <div id="slidefunc">
	         
	          </div>
	          <div id="galeryfunc">
	          
	          </div>
	          <div id="testisfunc">
	          
	          </div>
	          <div id="mapsfunc">
	          	<h4>Function saveAdress($address) dans le Manager.</h4>
	          	<p>La fonction énoncée ci dessus sert à mettre à jour l'adresse renseignée pas l'utilisateur en base de données.</p>

	          	<div id="code">
          			<p class="title">
           				function saveAdress($address); </p class="title">{ <br>
           					<p class="corp">
           						$sql = "UPDATE options SET option_value = :option_value  WHERE option_name = 'adresse'";<br>
								$stmt = $this->dbh->prepare($sql);<br>
								$stmt->bindParam(':option_value', $address);<br>
								$stmt->execute();<br>
							</p class="corp">
           					}
           	
          			 </p>
          		</div>
          		<hr>

          		<h4>Function saveAdress($address) dans le Controller.</h4>
	          	<p>La fonction énoncée ci dessus sert à sauvergarder l'adresse renseignée pas l'utilisateur ainsi que ces coordonnées GPS en base de données à chaque fois que celui-ci veux la changer.</p>

	          	<div id="code">
          			<p class="title">
           				public function saveAdress(); </p class="title">{ <br>
           					<p class="corp">
           						$optionManager = new \Manager\OptionsManager();<br>
           						<br>
     		 					if(isset( $_POST["button"])){<br>
									$address = $_POST['address'];<br>
     		 						$optionManager -> saveAdress($address);<br>
     		 						$optionManager -> saveLatLon($lat, $lon);<br>
     		 					}<br>
				
     		 					$this->redirectToRoute('backoffice');<br>

							</p class="corp">
           					}
           	
          			 </p>
          		</div>
				<hr>
          		<h4>Function getAdress($address) dans le Manager.</h4>
	          	<p>La fonction énoncée ci dessus sert à aller chercher l'information en base de données pour pouvoir la réutiliser, pour l'afficher par exemple.</p>

	          	<div id="code">
          			<p class="title">
           				function getAdress($address); </p class="title">{ <br>
           					<p class="corp">
           						$sql="SELECT option_value from options where option_name = 'adresse'";<br>
								$stmt = $this->dbh-> query($sql);<br>
								$adresse = $stmt->fetch(\PDO::FETCH_ASSOC);<br>
								return $adresse['option_value'];<br>
							</p class="corp">
           					}
           	
          			 </p>
          		</div>
          		<hr>

          		<h4>Function saveAdress($address) dans le Controller.</h4>
	          	<p>La fonction énoncée ci dessus sert à afficher l'information récupérée précédemment.</p>

	          	<div id="code">
          			<p class="title">
           				public function getAdress(); </p class="title">{ <br>
           					<p class="corp">
           						$optionManager = new \Manager\OptionsManager();<br>
           						<br>
     		 					$address = $_POST['address'];<br>
     							$adressToDisplay=$optionManager->getAdress($address);<br>
     							$this->show('default/backoffice', ['currentadresse' => $adressToDisplay]);<br>
     		 					}<br>
				
     		 					$this->redirectToRoute('backoffice');<br>

							</p class="corp">
           					}
           	
          			 </p>
          		</div>
          		<hr>

          		<h4>Function saveLatLon($lat, $lon) dans le Manager.</h4>
	          	<p>La fonction énoncée ci dessus sert à sauvegarder la longitude et latitude en base de données.</p>

	          	<div id="code">
          			<p class="title">
           				public functionsaveLatLon($lat, $lon); </p class="title">{ <br>
           					<p class="corp">
           						$sql = "(UPDATE options SET option_value = :option_value  WHERE option_name = 'latitude') UNION (UPDATE options SET option_value = :option_value  WHERE option_name = 'longitude')";<br>
								$stmt = $this->dbh->prepare($sql);<br>
								$stmt->bindParam(':option_value', $lat);<br>
								$stmt->bindParam(':option_value', $lon);<br>
								$stmt->execute();<br>

							</p class="corp">
           					}
           	
          			 </p>
          		</div>
	          </div>
	          <div id="textfunc">
	          
	          </div>
	          <div id="contactfunc">
	      
	          </div>
          

          <!-- block de rendu code -->
        </div> 
         <div id="section5"> 
          <h1>Références</h1>
          <p>Try to scroll this page and look at the navigation list while scrolling!</p>
        </div> 
      </div>
    </div>
  </div>

</body>
</html>