<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Documentation OVE</title>
	<link rel="stylesheet" href="css/documentation.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap-theme.min.css">
	<link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
	<script src="js/jquery-2.1.4.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/scriptdoc.js" type="text/javascript" charset="utf-8"></script>
</head>
<body data-spy="scroll" data-target="#myScrollspy" data-offset="20">

  <div class="container">
    <div class="row">
      <nav class="col-sm-3 navbar-fixed-top" id="myScrollspy">
      	<h2 class="principal">Onepage Visual Editor</h2>
        <ul class="nav nav-pills nav-stacked">
          <li><a href="#section1">Presentation</a></li>
           <li><a href="#section3">Install</a></li>
          <li role="presentation" class="dropdown">
		    <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
		      Components <span class="caret"></span>
		    </a>
		    <ul class="dropdown-menu">
		      <li><a href="#headercomp">Navigation</a></li>
		      <li><a href="#slidecomp">Slider</a></li>
		      <li><a href="#galerycomp">Gallery</a></li>
		      <li><a href="#testiscomp">Testimonial</a></li>
		      <li><a href="#mapscomp">Maps</a></li>
		       <li><a href="#textcomp">Free text</a></li>
		      <li><a href="#contactcomp">Contact form</a></li>
		    </ul>
		  </li>
             <li role="presentation" class="dropdown">
		    <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
		      Functionality <span class="caret"></span>
		    </a>
		    <ul class="dropdown-menu">
		      <li><a href="#headerfunc">Navigation</a></li>
		      <li><a href="#slidefunc">Slider</a></li>
		      <li><a href="#galeryfunc">Gallery</a></li>
		      <li><a href="#testisfunc">Testimonial</a></li>
		      <li><a href="#mapsfunc">Maps</a></li>
		       <li><a href="#textfunc">Free text</a></li>
		      <li><a href="#contactfunc">Contact form</a></li>
		    </ul>
		  </li>
             <li><a href="#section5">Reference</a></li>
        </ul>
      </nav>
      <div class="col-sm-9">
        <div id="section1"> 
          <h1>Presentation</h1>
          <p>Onepage Visual Editor, aka OVE, is a generator of a single page of six sections. All of these sections are of course editable, at the desire of the user. The purpose of this project is to give users a way to build a web page customizable without any knowledge of coding. We have therefore made this site builder is simple and clear to use.

		On the other hand, for the more curious we have created this documentation to show the operation of the site. Because of this, the user will also be able to understand as we came to this rendering.</p>
          <!-- block de rendu code -->
         
        </div> 
       
         <div id="section3"> 
          <h1>Install</h1>
          <p>Try to scroll this page and look at the navigation list while scrolling!</p>
        </div> 

        <div id="section2"> 
          <h1>Components</h1>
          	<p>There are six sections, each with a component. These are more or less all changed. Each section, so each component, can this found several times on the onepage if the user wants to. This leaves several types of page. Contractor with the section Map to locate his business. Musician can show his talent with Music. Photographer with Slider and Gallery. You got it, you can do what seems good to you. So here is a detailed of each componant, with their function.</p>
	          <div id="headercomp">
	          		<h3>Header</h3>
	          		<p>The header of the site remains fixed during the navigation. Its title is customizable with the possibility to add its own logo.
					The menu points to each section of the page in the link to the ink, it does not offer the possibility to add external links or internal additional.
	          		</p> 
	          		<div class="illu">
	          			<img src="img/header.png" alt="header"></img>
	          		</div>
	          		<hr/>
	          </div>
	          <div id="slidecomp">
		          <h3>Slider</h3>
		          		<p>The section slider allows you to display a carousel in the content customizable, the user can determine if the content if there are images or videos. It is of course possible to mix the display of a photo and then move to a video. It operates 100% of the width of the browser responsive. (provided that the source img/video will be of appropriate size.)
		          		</p> 
		          		<div class="illu">
		          			<img src="img/slider.png" alt="header"></img>
		          		</div>
		          		<hr> 
	          </div>
	          <div id="galerycomp">
	         
	          </div>
	          <div id="testiscomp">
	         
	          </div>
	          <div id="mapscomp">
	          		<h3>Map</h3>
	          		<p>The section Map allows you to display a map or the geographic location corresponds to the coordinated that the user has to inform. Actually, thanks to the form present in the Backoffice, gps coordinates, latitude and longitude are saved in database, for more precision in the loading of the page.
	          		</p>
	          		<div class="illu">
		          		<img src="img/map.png" alt="header"></img>
		          	</div>
		          		<hr> 
	          </div>
	          <div id="contactcomp">
	         
	          </div>
	          <div id="textcomp">
	          
	          </div>
        </div> 
         <div id="section4"> 
          <h1>Functionality</h1>
          <div id="headerfunc">
	         
	          </div>
	          <div id="slidefunc">
	         
	          </div>
	          <div id="galeryfunc">
	          
	          </div>
	          <div id="testisfunc">
	          
	          </div>
	          <div id="mapsfunc">
	          	<h4>Function saveAdress($address) in the Manager.</h4>
	          	<p>The function stated above is used to update the address entered by user in the database.</p>

	          	<div id="code">
          			<p class="title">
           				function saveAdress($address); </p class="title">{ <br>
           					<p class="corp">
           						$sql = "UPDATE options SET option_value = :option_value  WHERE option_name = 'adresse'";<br>
								$stmt = $this->dbh->prepare($sql);<br>
								$stmt->bindParam(':option_value', $address);<br>
								$stmt->execute();<br>
							</p class="corp">
           					}
           	
          			 </p>
          		</div>
          		<hr>

          		<h4>Function saveAdress($address) in the Controller.</h4>
	          	<p>The function stated above is used to save the address entered by user and these GPS coordinates into database every time that they want to change it.</p>

	          	<div id="code">
          			<p class="title">
           				public function saveAdress(); </p class="title">{ <br>
           					<p class="corp">
           						$optionManager = new \Manager\OptionsManager();<br>
           						<br>
     		 					if(isset( $_POST["button"])){<br>
									$address = $_POST['address'];<br>
     		 						$optionManager -> saveAdress($address);<br>
     		 						$optionManager -> saveLatLon($lat, $lon);<br>
     		 					}<br>
				
     		 					$this->redirectToRoute('backoffice');<br>

							</p class="corp">
           					}
           	
          			 </p>
          		</div>
				<hr>
          		<h4>Function getAdress($address) in the Manager.</h4>
	          	<p>The function stated above is used to fetch the information in the database to be able to reuse it, to show it by example.</p>

	          	<div id="code">
          			<p class="title">
           				function getAdress($address); </p class="title">{ <br>
           					<p class="corp">
           						$sql="SELECT option_value from options where option_name = 'adresse'";<br>
								$stmt = $this->dbh-> query($sql);<br>
								$adresse = $stmt->fetch(\PDO::FETCH_ASSOC);<br>
								return $adresse['option_value'];<br>
							</p class="corp">
           					}
           	
          			 </p>
          		</div>
          		<hr>

          		<h4>Function saveAdress($address) in the Controller.</h4>
	          	<p>The function stated above is used to display the information that was retrieved previously.</p>

	          	<div id="code">
          			<p class="title">
           				public function getAdress(); </p class="title">{ <br>
           					<p class="corp">
           						$optionManager = new \Manager\OptionsManager();<br>
           						<br>
     		 					$address = $_POST['address'];<br>
     							$adressToDisplay=$optionManager->getAdress($address);<br>
     							$this->show('default/backoffice', ['currentadresse' => $adressToDisplay]);<br>
     		 					}<br>
				
     		 					$this->redirectToRoute('backoffice');<br>

							</p class="corp">
           					}
           	
          			 </p>
          		</div>
          		<hr>

          		<h4>Function saveLatLon($lat, $lon) dans le Manager.</h4>
	          	<p>The function stated above is used to save the longitude and latitude in the database.</p>

	          	<div id="code">
          			<p class="title">
           				public functionsaveLatLon($lat, $lon); </p class="title">{ <br>
           					<p class="corp">
           						$sql = "(UPDATE options SET option_value = :option_value  WHERE option_name = 'latitude') UNION (UPDATE options SET option_value = :option_value  WHERE option_name = 'longitude')";<br>
								$stmt = $this->dbh->prepare($sql);<br>
								$stmt->bindParam(':option_value', $lat);<br>
								$stmt->bindParam(':option_value', $lon);<br>
								$stmt->execute();<br>

							</p class="corp">
           					}
           	
          			 </p>
          		</div>
	          </div>
	          <div id="textfunc">
	          
	          </div>
	          <div id="contactfunc">
	      
	          </div>
          

          <!-- block de rendu code -->
        </div> 
         <div id="section5"> 
          <h1>Reference</h1>
          <p>Try to scroll this page and look at the navigation list while scrolling!</p>
        </div> 
      </div>
    </div>
  </div>

</body>
</html>